Description: Truncate marker supply names at comma
Author: Peter Hurley <peter@hurleysoftware.com>
Bug: http://www.cups.org/str.php?L4020
Ubuntu-Bug: https://bugs.launchpad.net/ubuntu/+source/cups/+bug/926457

--- a/backend/snmp-supplies.c
+++ b/backend/snmp-supplies.c
@@ -715,7 +715,7 @@
       *ptr++ = ',';
 
     *ptr++ = '\"';
-    for (name_ptr = supplies[i].name; *name_ptr;)
+    for (name_ptr = supplies[i].name; *name_ptr && *name_ptr != ',';)
     {
       if (*name_ptr == '\\' || *name_ptr == '\"')
         *ptr++ = '\\';
